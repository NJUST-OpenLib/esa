<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0ea5e9">
    <title>边缘本地化天气助手</title>
    <style>
      :root { --bg:#0b1220; --card:#111827; --text:#e5e7eb; --accent:#0ea5e9; }
      *{box-sizing:border-box}
      body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(160deg,#0b1220,#0f172a);color:var(--text)}
      .wrap{max-width:640px;margin:0 auto;padding:20px}
      .card{background:rgba(17,24,39,.7);backdrop-filter:saturate(180%) blur(8px);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:16px}
      h1{font-size:20px;margin:0 0 12px;color:#fff}
      .row{display:flex;gap:8px}
      input{flex:1;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.05);color:#fff}
      button{padding:12px 16px;border-radius:12px;border:0;background:var(--accent);color:#00111a;font-weight:600}
      button:disabled{opacity:.6}
      .muted{color:#94a3b8;font-size:12px}
      .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:12px}
      .tile{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px}
      .title{font-size:12px;color:#9ca3af}
      .value{font-size:18px;color:#fff;margin-top:4px}
      ul{margin:12px 0 0;padding-left:20px}
      li{margin:6px 0}
      .loading{animation:pulse 1.2s infinite}
      @keyframes pulse{0%{opacity:.5}50%{opacity:.2}100%{opacity:.5}}
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <h1>边缘本地化天气助手</h1>
        <div class="row">
          <input id="cityInput" placeholder="城市（可选，留空则按IP定位）" autocomplete="off" />
          <button id="queryBtn">查询天气</button>
        </div>
        <div class="muted" id="status">等待查询或自动定位中…</div>
        <div class="grid" id="metrics" style="display:none">
          <div class="tile"><div class="title">所在城市</div><div class="value" id="city"></div></div>
          <div class="tile"><div class="title">气温</div><div class="value" id="temp"></div></div>
          <div class="tile"><div class="title">湿度</div><div class="value" id="humidity"></div></div>
          <div class="tile"><div class="title">降水概率</div><div class="value" id="precip"></div></div>
          <div class="tile"><div class="title">风力</div><div class="value" id="wind"></div></div>
          <div class="tile"><div class="title">数据来源</div><div class="value" id="source"></div></div>
        </div>
        <div style="margin-top:12px">
          <div class="title">个性化提醒</div>
          <ul id="advice"></ul>
        </div>
        <div class="muted" id="offline"></div>
      </div>
    </div>
    <script src="/main.js" defer></script>
  </body>
  </html>

